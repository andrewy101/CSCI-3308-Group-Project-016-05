<%- include ('../partials/head') %>
<%- include ('../partials/menu') %>
<main>


    <div class="col"><%- include ('../partials/message') %></div>
    <div class="container">
        <h4 class="display-4">Expenses</h4>
        <table class="table">
          <thead class="thead-light">
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Amount</th>
              <th scope="col">Category</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
              <%let deleteButton = '<button type="submit" class="btn btn-outline-danger">Delete</button>';%>
              <%let formAction = '/expenses/delete'%>

              <%for (let i = 0; i < expenses.length; i++) {%>
                  <tr id="<%=expenses[i].expense_id%>">
                      <form action="<%-formAction%>" method="POST">
                          <input type="hidden" name="expense_id" value="<%=expenses[i].expense_id%>"/>
                          <td class="row-data"><%=expenses[i].date.toLocaleDateString()%></td>
                          <td class="row-data"><%=expenses[i].category%></td>
                          <td class="row-data"><%=expenses[i].amount%></td>
                          <td class="row-data"><%-deleteButton%></td>
                      </form>
                  </tr>
              <%}%>
          </tbody>
        </table>
    </div>
    </div>
  </main>


<%- include ('../partials/footer') %>